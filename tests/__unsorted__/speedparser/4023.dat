<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

    <title>$ log < tomohiro.me</title>
    <link href="http://log.tomohiro.me/atom.xml" rel="self"/>
    <link href="http://log.tomohiro.me/"/>
    <updated>2011-09-22T23:47:32+09:00</updated>
    <id>http://log.tomohiro.me/</id>
    <author>
        <name>Tomohiro, TAIRA</name>
        <email>tomohiro.t@gmail.com</email>
    </author>
    
    <entry>
        <title>Installing Pow via Homebrew</title>
        <link href="http://log.tomohiro.me/entries/installing-pow-via-homebrew"/>
        <updated>2011-09-20T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/installing-pow-via-homebrew</id>
        <content type="html">&lt;h3&gt;Uninstalling Pow (If you have already insatlled Pow)&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl get.pow.cx/uninstall.sh | sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Installing Pow via Homebrew&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install pow
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo pow --install-system &lt;span class=&quot;c&quot;&gt;# Sets up firewall rules to forward port 80 to Pow&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;pow --install-local &lt;span class=&quot;c&quot;&gt;# Installs launchd agent to start on login&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Reference&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://pow.cx/&quot;&gt;Pow: Zero-configuration Rack server for Mac OS X&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/mxcl/homebrew/blob/master/Library/Formula/pow.rb&quot;&gt;Library/Formula/pow.rb at master from mxcl/homebrew - GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>OSX Lion に Emacs をインストール</title>
        <link href="http://log.tomohiro.me/entries/installing-emacs-to-osx-lion"/>
        <updated>2011-08-15T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/installing-emacs-to-osx-lion</id>
        <content type="html">&lt;p&gt;OSX Lion に Emacs をインストールした時のメモ&lt;/p&gt;

&lt;p&gt;Homebrew を使ってインストールするがデフォルトのレシピだとこけるので，野良レシピを使う必要がある．&lt;/p&gt;

&lt;p&gt;&lt;code&gt;--lion&lt;/code&gt; オプションをつけると Lion のフルスクリーン機能が使えるようになる．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install https://raw.github.com/gist/1124161/6a265cd3b6b35b9dd550d26896063c3dfba6f4fa/emacs.rb --cocoa --lion
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Reference&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/1124161&quot;&gt;Homebrew Emacs 23.3a for OSX Lion with native full-screen, inline patch — Gist&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>Debian の Apache2 でリバースプロキシを設定する</title>
        <link href="http://log.tomohiro.me/entries/apache2-reverse-proxy-on-debian"/>
        <updated>2011-05-16T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/apache2-reverse-proxy-on-debian</id>
        <content type="html">&lt;p&gt;CentOS 5.6 をネットワークインストールしようとしたところ，Debian のインストーラと違って，プロキシ超えが出来ないことがわかった．&lt;/p&gt;

&lt;p&gt;ローカルネットワークから見えるところにリバースプロキシを設定して，そこと通信するようにすれば良いらしい．&lt;/p&gt;

&lt;p&gt;今回は Debian Squeeze の Apache2 を利用した．&lt;/p&gt;

&lt;h3&gt;リバースプロキシの設定&lt;/h3&gt;

&lt;h4&gt;モジュールを有効にする&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# a2enmod proxy&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# a2enmod proxy_http&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;CentOS のミラーサイトを設定&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# vi /etc/apache2/httpd.conf&lt;/span&gt;
ProxyPass /Linux/centos http://ftp.riken.jp/Linux/centos
ProxyPassReverse /Linux/centos http://ftp.riken.jp/Linux/centos

ProxyRemote * http://proxy.example.com:8080
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;Apache を起動&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# /etc/init.d/apache2 start&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;CentOS セットアップ時の設定&lt;/h3&gt;

&lt;p&gt;以下，英語版でインストールしてる状況での説明．&lt;/p&gt;

&lt;p&gt;ネットワークインストールを設定すると，&lt;code&gt;HTTP Setup&lt;/code&gt; という画面が出てくるので，下記のように入力して &lt;code&gt;OK&lt;/code&gt; すれば，インストールが続けられる．&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;項目名           &lt;/th&gt;
&lt;th&gt; 入力内容&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Web Site name    &lt;/td&gt;
&lt;td&gt; reverse-proxy.example.com&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CentOS directory &lt;/td&gt;
&lt;td&gt; Linux/centos/5.6/os/i386&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://akitosblog.seesaa.net/article/159752158.html&quot;&gt;CentOS 5.5 x86-64 をネットワークインストール: Akito's IT技術 メモ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://yakinikunotare.boo.jp/orebase/index.php?Apache%2F%A5%EA%A5%D0%A1%BC%A5%B9%A5%D7%A5%ED%A5%AD%A5%B7%A4%F2%BA%EE%A4%EB%A1%CADebian%20Etch%CA%D4%A1%CB&quot;&gt;Apache/リバースプロキシを作る（Debian Etch編） - 俺の基地&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>Windows でシンボリックリンクを作成する</title>
        <link href="http://log.tomohiro.me/entries/windows-symlink"/>
        <updated>2011-05-02T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/windows-symlink</id>
        <content type="html">&lt;p&gt;Windows でシンボリックリンクを作成する方法をいつも忘れてしまうので，メモしておく．&lt;/p&gt;

&lt;p&gt;&lt;code&gt;mklink&lt;/code&gt; コマンドを叩くとヘルプが見れるので，それ見ながらやる，っていうように覚えておけば良いかな．&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/tomohiro/5679095592/in/photostream&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5062/5679095592_8108387564.jpg&quot; title=&quot;&quot; alt=&quot;mklink&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
</content>
    </entry>
    
    <entry>
        <title>Snow Leopard で Node.js と express を動かす</title>
        <link href="http://log.tomohiro.me/entries/nodejs-and-express"/>
        <updated>2011-04-30T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/nodejs-and-express</id>
        <content type="html">&lt;p&gt;Node.js で Web アプリ作ってみようかと思い立ったので，下記の環境を用意する．&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Node.js&lt;/li&gt;
&lt;li&gt;npm - パッケージマネージャ&lt;/li&gt;
&lt;li&gt;express - Web アプリケーションフレームワーク&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;Node.js のインストール&lt;/h3&gt;

&lt;p&gt;brew を使って入れる．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install &lt;span class=&quot;nv&quot;&gt;node&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; Downloading http://nodejs.org/dist/node-v0.4.7.tar.gz
&lt;span class=&quot;c&quot;&gt;######################################################################## 100.0%&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; ./configure --prefix&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/Cellar/node/0.4.7
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; make &lt;span class=&quot;nv&quot;&gt;install&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; Caveats
Please add /usr/local/lib/node to your NODE_PATH environment variable to have node libraries picked up.
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; Summary
/usr/local/Cellar/node/0.4.7: 72 files, 7.5M, built in 6.2 minutes
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;node のパスを環境変数に指定する．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vi .zshrc
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;NODE_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/lib/node
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;npm のインストール&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;brew install npm&lt;/code&gt; とすると，別のコマンドを叩くように指示されるので，その通りに実行する．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew install npm
Error: No available formula &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;npm
npm can be installed thusly by following the instructions at
  http://npmjs.org/

  To &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;it in one line, use this &lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt;:
    curl http://npmjs.org/install.sh | sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl http://npmjs.org/install.sh | sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;express のインストール&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install express
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;プロジェクトを作る&lt;/h3&gt;

&lt;p&gt;express コマンドでプロジェクトを自動生成することができる．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;express mynodeapp
   create : mynodeapp
   create : mynodeapp/app.js
   create : mynodeapp/public/stylesheets
   create : mynodeapp/public/stylesheets/style.css
   create : mynodeapp/public/javascripts
   create : mynodeapp/logs
   create : mynodeapp/pids
   create : mynodeapp/public/images
   create : mynodeapp/views
   create : mynodeapp/views/layout.jade
   create : mynodeapp/views/index.jade
   create : mynodeapp/test
   create : mynodeapp/test/app.test.js
   - make sure you have installed jade: &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install jade
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;npm install jade
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;起動してみる&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /mynodeapp
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;node app.js
Express server listening on port 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/tomohiro/5670130178/&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5108/5670130178_30d9c518fb.jpg&quot; alt=&quot;express - Tomohiro, TAIRA, on Flickr&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://nodejs.org/&quot;&gt;node.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://npmjs.org/&quot;&gt;npm - Node Package Manager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://expressjs.com/guide.html#migration-guide&quot;&gt;Express - node web framework&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>Vundle で Vim プラグインを管理する</title>
        <link href="http://log.tomohiro.me/entries/vundle"/>
        <updated>2011-04-29T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/vundle</id>
        <content type="html">&lt;p&gt;今まで Vim のプラグイン管理には「pathogen」を使っていたが，
「Vundle」というよりスマートなプラグインを管理するものが登場したので乗り変えてみた．&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/gmarik/vundle&quot;&gt;gmarik/vundle - GitHub&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Vundle is a short cut for Vimbundle and is a Vim plugin manager.&lt;/p&gt;&lt;/blockquote&gt;

&lt;h3&gt;Vundle をインストール&lt;/h3&gt;

&lt;p&gt;Vundle をダウンロードして .vim 以下に配置する．
今回は Vundle を &lt;code&gt;git submodule&lt;/code&gt; として扱う．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git submodule add https://github.com/gmarik/vundle.git .vim/vundle
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;次に Vundle を読み込むための設定を &lt;code&gt;.vimrc&lt;/code&gt; に書いておく．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;vim&quot;&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;rtp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;+=~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/.vim/&lt;/span&gt;vundle/
&lt;span class=&quot;k&quot;&gt;call&lt;/span&gt; vundle#rc&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;プラグインをインストールする&lt;/h3&gt;

&lt;p&gt;Vundle でプラグインを有効にするためには，&lt;code&gt;.vimrc&lt;/code&gt; にプラグイン名を書いておかなければならない．&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;GitHub 上のプラグイン作者のリポジトリ: &lt;code&gt;User/PluginName&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;GitHub の vim-scripts のリポジトリ: &lt;code&gt;PluginName&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;GitHub 以外のリポジトリ: &lt;code&gt;'git://example.com/PluginName.git'&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;vim&quot;&gt;Bundle &lt;span class=&quot;s1&quot;&gt;&amp;#39;Shougo/neocomplcache&amp;#39;&lt;/span&gt;
Bundle &lt;span class=&quot;s1&quot;&gt;&amp;#39;Shougo/unite.vim&amp;#39;&lt;/span&gt;
Bundle &lt;span class=&quot;s1&quot;&gt;&amp;#39;gtags.vim&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;設定を書いた後，Vim を起動してコマンドモードで &lt;code&gt;BundleInstall&lt;/code&gt; するとプラグインがインストールされる．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;vim&quot;&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;BundleInstall
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;プラグインをアップデートする&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;BundleInstall&lt;/code&gt; に !(bang) をつけるとアップデートになる&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;vim&quot;&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;BundleInstall&lt;span class=&quot;p&quot;&gt;!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://shu-cream.blogspot.com/2011/04/2011vimvundle.html&quot;&gt;blog.shu-cream.net: 2011年のVimプラグインの管理はVundleで&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/gmarik/vundle&quot;&gt;gmarik/vundle - GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;amazlet-box&quot; style=&quot;margin-bottom:0px;&quot;&gt;&lt;div class=&quot;amazlet-image&quot; style=&quot;float:left;margin:0px 12px 1px 0px;&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873110831/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ecx.images-amazon.com/images/I/419SM7TDHZL._SL160_.jpg&quot; alt=&quot;入門vi 第6版&quot; style=&quot;border: none;&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-info&quot; style=&quot;line-height:120%; margin-bottom: 10px&quot;&gt;&lt;div class=&quot;amazlet-name&quot; style=&quot;margin-bottom:10px;line-height:120%&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873110831/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;入門vi 第6版&lt;/a&gt;&lt;div class=&quot;amazlet-powered-date&quot; style=&quot;font-size:80%;margin-top:5px;line-height:120%&quot;&gt;posted with &lt;a href=&quot;http://www.amazlet.com/browse/ASIN/4873110831/tomohiro-t-22/ref=nosim/&quot; title=&quot;入門vi 第6版&quot; target=&quot;_blank&quot;&gt;amazlet&lt;/a&gt; at 11.04.29&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-detail&quot;&gt;リンダ ラム アーノルド ロビンス &lt;br /&gt;オライリー・ジャパン &lt;br /&gt;売り上げランキング: 14937&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-sub-info&quot; style=&quot;float: left;&quot;&gt;&lt;div class=&quot;amazlet-link&quot; style=&quot;margin-top: 5px&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873110831/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;Amazon.co.jp で詳細を見る&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-footer&quot; style=&quot;clear: left&quot;&gt;&lt;/div&gt;&lt;/div&gt;

</content>
    </entry>
    
    <entry>
        <title>MacPorts から Homebrew へ移行</title>
        <link href="http://log.tomohiro.me/entries/macports_to_homebrew"/>
        <updated>2011-04-24T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/macports_to_homebrew</id>
        <content type="html">&lt;p&gt;Mac 上で Unix ツールを管理するマネージャを MacPorts から Homebrew へ移行した．&lt;/p&gt;

&lt;p&gt;少ししか触っていないが，下記の点が非常に魅力的だと感じた．&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;MacPorts に比べて動作が軽快&lt;/li&gt;
&lt;li&gt;レシピの自作が簡単 (Fomula という名前の Ruby スクリプト)&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;MacPorts のアンインストール&lt;/h3&gt;

&lt;h4&gt;1. アンインストール&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo port -f uninstall installed
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo rm -rf &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /opt/local &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /Applications/DarwinPorts &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /Applications/MacPorts &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /Library/LaunchDaemons/org.macports.* &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /Library/Receipts/DarwinPorts*.pkg &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /Library/Receipts/MacPorts*.pkg &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /Library/StartupItems/DarwinPortsStartup &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /Library/Tcl/darwinports1.0 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /Library/Tcl/macports1.0 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    ~/.macports
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;2. /opt/local/ へのパスを削除&lt;/h4&gt;

&lt;p&gt;環境変数 &lt;code&gt;$PATH&lt;/code&gt; に MacPorts のディレクトリを指定する設定があるので削除する&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vi ~/.profile
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Homebrew をインストール&lt;/h3&gt;

&lt;h4&gt;1. Homebrew のインストール手順の指示に従い，下記のディレクトリを削除&lt;/h4&gt;

&lt;blockquote&gt;&lt;p&gt;We recommend you delete &lt;code&gt;/usr/local/include&lt;/code&gt; and &lt;code&gt;/usr/local/lib&lt;/code&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo rm -rf /usr/local/lib
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;2. インストールする&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ruby -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;$(curl -fsSLk https://gist.github.com/raw/323731/install_homebrew.rb)&amp;quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; This script will install:
/usr/local/bin/brew
/usr/local/Library/Formula/...
/usr/local/Library/Homebrew/...
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; The following directories will be made group writable:
/usr/local/.
/usr/local/bin
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; The following directories will have their group &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;to staff:
/usr/local/.
/usr/local/bin

Press enter to &lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; /usr/bin/sudo /bin/chmod g+w /usr/local/. /usr/local/bin
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; /usr/bin/sudo /usr/bin/chgrp staff /usr/local/. /usr/local/bin
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; Downloading and Installing Homebrew...
&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&amp;gt; Installation successful!
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;3. バージョンを確認&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rehash
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;brew --version
0.8
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;4. Zsh で brew コマンドの補完をできるようにする&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vi .zshrc
&lt;span class=&quot;nv&quot;&gt;fpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.zsh/functions &lt;span class=&quot;nv&quot;&gt;$fpath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo cp /usr/local/Library/Contributions/brew_zsh_completion.zsh /usr/local/share/zsh/functions/_brew
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://guide.macports.org/chunked/installing.macports.uninstalling.html&quot;&gt;2.5. Uninstall&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://mxcl.github.com/homebrew/&quot;&gt;Homebrew — MacPorts driving you to drink? Try Homebrew!&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/mxcl/homebrew/wiki/installation&quot;&gt;Installation - GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/mxcl/homebrew/wiki/the-brew-command&quot;&gt;The brew command - GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>sshfs でシンボリックリンクを扱う</title>
        <link href="http://log.tomohiro.me/entries/symlinks-for-sshfs"/>
        <updated>2011-04-21T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/symlinks-for-sshfs</id>
        <content type="html">&lt;p&gt;&lt;code&gt;sshfs&lt;/code&gt; で ssh サーバのディレクトリをローカルにマウントしている場合，シンボリックリンクがたどれなくて困っていたが，&lt;code&gt;-o follow_symlinks&lt;/code&gt; というオプションを追加してマウントすると問題なくたどれるようになった．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sshfs username@REMOTE_HOST:REMOTE_PATH LOCAL_PATH -o follow_symlinks
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://sourceforge.net/apps/mediawiki/fuse/index.php?title=SshfsFaq#Following_symlinks_on_the_server_side&quot;&gt;SourceForge.net: SshfsFaq - fuse&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>LL で異常終了処理する時のイディオム</title>
        <link href="http://log.tomohiro.me/entries/ll-die-idiom"/>
        <updated>2011-04-20T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/ll-die-idiom</id>
        <content type="html">&lt;p&gt;エラーの際に，メッセージを表示して，プログラムを終了させるという流れを LL で実装する方法を調査してみた．&lt;/p&gt;

&lt;p&gt;Ruby/Python/Perl はほぼ想定された動作をしたが，PHP のみ &lt;code&gt;die&lt;/code&gt; の引数に文字列を渡すと，ステータスコード &quot;0&quot; を返す，という謎の挙動を示した．&lt;/p&gt;

&lt;p&gt;調べてみたところバグではなく PHP の仕様ではあったのだが，個人的にはイケてないなぁと思う．&lt;/p&gt;

&lt;h3&gt;Ruby&lt;/h3&gt;

&lt;p&gt;サンプル&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;#!/usr/bin/env ruby&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;abort&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Error&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;ステータスコード&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ruby -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;abort &amp;#39;Error&amp;#39;&amp;quot;&lt;/span&gt;
Error
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;
1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Perl&lt;/h3&gt;

&lt;p&gt;サンプル&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;perl&quot;&gt;&lt;span class=&quot;c1&quot;&gt;#!/usr/bin/env perl&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;warnings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;die&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;Error&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;ステータスコード&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;perl -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;die &amp;#39;Error&amp;#39;&amp;quot;&lt;/span&gt;
Error at -e line 1.
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;
255
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Python&lt;/h3&gt;

&lt;p&gt;サンプル&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sys&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Error&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;ステータスコード&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;python -c &lt;span class=&quot;s2&quot;&gt;&amp;quot;import sys; sys.exit(&amp;#39;Error&amp;#39;)&amp;quot;&lt;/span&gt;
Error
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;
1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;PHP&lt;/h3&gt;

&lt;p&gt;サンプル&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;php&quot;&gt;&lt;span class=&quot;x&quot;&gt;#!/usr/bin/env php&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Error&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PHP_EOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;die&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;ステータスコード&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php -r &lt;span class=&quot;s2&quot;&gt;&amp;quot;die(&amp;#39;Error&amp;#39; . PHP_EOL);&amp;quot;&lt;/span&gt;
Error
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;
0
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php -r &lt;span class=&quot;s2&quot;&gt;&amp;quot;echo &amp;#39;Error&amp;#39; . PHP_EOL; die(1);&amp;quot;&lt;/span&gt;
Error
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;
1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.python.jp/doc/2.6/library/sys.html&quot;&gt;28.1. sys — システムパラメータと関数 — Python v2.6.2 documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.php.net/manual/ja/function.die.php&quot;&gt;PHP: die - Manual&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ruby-lang.org/ja/man/html/_C1C8A4DFB9FEA4DFB4D8BFF4.html#abort&quot;&gt;組み込み関数 - Rubyリファレンスマニュアル&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.livedoor.jp/dankogai/archives/51073468.html&quot;&gt;404 Blog Not Found:perl - use Carp; # warn() と die() だけじゃなくて&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>RVM でインストールした Ruby を cron で使う</title>
        <link href="http://log.tomohiro.me/entries/rvm-ruby-on-cron"/>
        <updated>2011-04-14T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/rvm-ruby-on-cron</id>
        <content type="html">&lt;p&gt;ユーザ環境で動く cron で RVM が管理している Ruby を動かす時のテクニック．&lt;/p&gt;

&lt;p&gt;まずこういうテクニックを見つけたので，やってみた．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;* * * * * bash -c &lt;span class=&quot;s1&quot;&gt;&amp;#39;. ~/.rvm/scripts/rvm &amp;amp;&amp;amp; command&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;これでも問題なく動が，記述量が多いので，crontab 設定の可読性が落ちるという難点があった．&lt;/p&gt;

&lt;p&gt;そこで環境変数の PATH に RVM の bin を追加したところ，いい感じになった．&lt;/p&gt;

&lt;p&gt;仮に RVM がインストールされない環境でこの cron 設定を動かしてもシステムの Ruby 処理系が走るだけになる．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/home/tomohiro/.rvm/bin:/usr/bin:/bin
* * * * * ruby &lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;特定の Ruby 処理系を指定することはできないが，必要であれば環境変数に追加して対応すれば良い．&lt;/p&gt;

&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://rvm.beginrescueend.com/&quot;&gt;RVM: Ruby Version Manager - RVM Ruby Version Manager - Documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>Ubuntu 10.10 で開発版 Redmine のプラグイン開発環境を作成する</title>
        <link href="http://log.tomohiro.me/entries/redmine_development_environment_on_ubuntu"/>
        <updated>2011-04-12T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/redmine_development_environment_on_ubuntu</id>
        <content type="html">&lt;p&gt;Redmine の開発環境を簡単に作るというのを目指すと下記のような手順になった．&lt;/p&gt;

&lt;h3&gt;使用ライブラリとバージョン&lt;/h3&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名前     &lt;/th&gt;
&lt;th&gt; バージョン&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;RVM      &lt;/td&gt;
&lt;td&gt; 1.6.1 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Ruby     &lt;/td&gt;
&lt;td&gt; 1.8.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Rails    &lt;/td&gt;
&lt;td&gt; 2.3.11 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SQLite3  &lt;/td&gt;
&lt;td&gt; 3.7.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RubyGems &lt;/td&gt;
&lt;td&gt; 1.6.2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


&lt;h3&gt;SQLite3 のインストール&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;apt-get install sqlite3 libsqlite3-dev libsqlite-0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Ruby のインストール&lt;/h3&gt;

&lt;p&gt;RVM を使ってインストールする&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rvm install 1.8.7
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rvm use 1.8.7
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Redmine 用の Gemset を作成&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rvm gemset create redmine
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rvm gemset use redmine
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Rails のインストール&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install rake
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install -v&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0.4.2 i18n
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install -v&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2.3.11 rails
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install sqlite3
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install ruby-debug
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem install thin
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem list

*** LOCAL GEMS ***

actionmailer &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2.3.11&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
actionpack &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2.3.11&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
activerecord &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2.3.11&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
activeresource &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2.3.11&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
activesupport &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2.3.11&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
columnize &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.3.2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
daemons &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1.1.2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
eventmachine &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.12.10&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
i18n &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.4.2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
linecache &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.43&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
rack &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1.1.2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
rails &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2.3.11&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
rake &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.8.7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
ruby-debug &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.10.4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
ruby-debug-base &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.10.4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
sqlite3 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1.3.3&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
thin &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1.2.11&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Redmine リポジトリを用意する&lt;/h3&gt;

&lt;h4&gt;Git clone&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone git://github.com/edavis10/redmine.git redmine@edavis
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;初期設定&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;redmine@edavis
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vi config/database.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;yaml&quot;&gt;&lt;span class=&quot;l-Scalar-Plain&quot;&gt;development&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l-Scalar-Plain&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;sqlite3&lt;/span&gt;
  &lt;span class=&quot;l-Scalar-Plain&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;db/development.sqlite3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ RAILS_ENV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;development rake config/initializers/session_store.rb
&lt;span class=&quot;nv&quot;&gt;$ RAILS_ENV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;development rake db:migrate
&lt;span class=&quot;nv&quot;&gt;$ RAILS_ENV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;development rake redmine:load_default_data
&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;in /home/tomohiro/Dropbox/Development/forks/redmine@edavis&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Select language: &lt;span class=&quot;nb&quot;&gt;bg&lt;/span&gt;, bs, ca, cs, da, de, el, en, en-GB, es, eu, fa, &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;, fr, gl, he, hr, hu, id, 
it, ja, ko, lt, lv, mk, mn, nl, no, pl, pt, pt-BR, ro, ru, sk, sl, sr, sr-YU, sv, th, tr, uk, 
vi, zh, zh-TW &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;en&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;ja&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;====================================&lt;/span&gt;
Default configuration data loaded.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;サーバを起動する&lt;/h4&gt;

&lt;p&gt;デフォルトの WEBrick の場合&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./script/server -u
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Booting &lt;span class=&quot;nv&quot;&gt;WEBrick&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Rails 2.3.11 application starting on http://0.0.0.0:3000
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Debugger &lt;span class=&quot;nv&quot;&gt;enabled&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Call with -d to &lt;span class=&quot;nv&quot;&gt;detach&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Ctrl-C to shutdown server
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;2011-04-12 18:08:29&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; INFO  WEBrick 1.3.1
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;2011-04-12 18:08:29&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; INFO  ruby 1.8.7 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2011-02-18&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;i686-linux&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;2011-04-12 18:08:34&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; INFO  WEBrick::HTTPServer#start: &lt;span class=&quot;nv&quot;&gt;pid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;18697 &lt;span class=&quot;nv&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;3000
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Thin の場合&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./script/server thin -u
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Booting &lt;span class=&quot;nv&quot;&gt;Thin&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Rails 2.3.11 application starting on http://0.0.0.0:3000
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Debugger &lt;span class=&quot;nv&quot;&gt;enabled&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Call with -d to &lt;span class=&quot;nv&quot;&gt;detach&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt; Ctrl-C to shutdown server
&amp;gt;&amp;gt; Thin web server &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;v1.2.11 codename Bat-Shit Crazy&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&amp;gt;&amp;gt; Maximum connections &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;to 1024
&amp;gt;&amp;gt; Listening on 0.0.0.0:3000, CTRL+C to stop
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;ブラウザからアクセス&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;http://0.0.0.0:3000&lt;/code&gt; にアクセスして &lt;code&gt;admin/admin&lt;/code&gt; でログオンを試す&lt;/p&gt;

&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://rvm.beginrescueend.com/&quot;&gt;RVM: Ruby Version Manager - RVM Ruby Version Manager - Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.redmine.org/projects/redmine/wiki/Download#Development-unstable&quot;&gt;Redmine - Download - Latest source code Development(unstable)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>Redmine でプロジェクト毎にテキストの書式を選択できるようにするパッチ</title>
        <link href="http://log.tomohiro.me/entries/text-formatter-setting-patch-for-redmne-1.1.2"/>
        <updated>2011-04-11T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/text-formatter-setting-patch-for-redmne-1.1.2</id>
        <content type="html">&lt;p&gt;&lt;a href=&quot;http://d.hatena.ne.jp/tmtms/20100923/redmine_formatter&quot;&gt;プロジェクト毎のフォーマッタ - @tmtms のメモ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;上記のブログエントリを参考にパッチを書いた．&lt;/p&gt;

&lt;h3&gt;手順&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;patch を適用&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# curl -LO https://gist.github.com/raw/912936/application_helper.rb.choice_text_formatter.patch
# cd /var/lib/redmine/app/helpers/
# patch &amp;lt; application_helper.rb.choice_text_formatter.patch
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;カスタムフィールドでプロジェクトに「テキストの書式」を作成&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;プロジェクトの設定画面で「テキストの書式」を選択&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;h3&gt;Patch&lt;/h3&gt;

&lt;script src=&quot;https://gist.github.com/912936.js?file=application_helper.rb.choice_text_formatter.patch&quot;&gt;&lt;/script&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://d.hatena.ne.jp/tmtms/20100923/redmine_formatter&quot;&gt;プロジェクト毎のフォーマッタ - @tmtms のメモ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>Ruby で組み込みクラスのメソッドを上書きする</title>
        <link href="http://log.tomohiro.me/entries/ruby_core_class_method_monkey_patching"/>
        <updated>2011-04-10T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/ruby_core_class_method_monkey_patching</id>
        <content type="html">&lt;blockquote&gt;&lt;p&gt;「Rubyは君を信頼する。Rubyは君を分別のあるプログラマとして扱う。Rubyはメタプログラミングのような強力な力を与える。ただし、大いなる力には、大いなる責任が伴うことを忘れてはいけない」 - まつもとゆきひろ&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ruby では下記のように，例え組み込みクラスでもメソッドを別名にしたり，オーバライドしたりと，モンキーパッチングが自由に出来る．
ただし悪用は厳禁．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;alias_method&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:now_original&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:now&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;override&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now_original&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;div class=&quot;amazlet-box&quot; style=&quot;margin-bottom:0px;&quot;&gt;&lt;div class=&quot;amazlet-image&quot; style=&quot;float:left;margin:0px 12px 1px 0px;&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4048687158/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ecx.images-amazon.com/images/I/51TODrMIEnL._SL160_.jpg&quot; alt=&quot;メタプログラミングRuby&quot; style=&quot;border: none;&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-info&quot; style=&quot;line-height:120%; margin-bottom: 10px&quot;&gt;&lt;div class=&quot;amazlet-name&quot; style=&quot;margin-bottom:10px;line-height:120%&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4048687158/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;メタプログラミングRuby&lt;/a&gt;&lt;div class=&quot;amazlet-powered-date&quot; style=&quot;font-size:80%;margin-top:5px;line-height:120%&quot;&gt;posted with &lt;a href=&quot;http://www.amazlet.com/browse/ASIN/4048687158/tomohiro-t-22/ref=nosim/&quot; title=&quot;メタプログラミングRuby&quot; target=&quot;_blank&quot;&gt;amazlet&lt;/a&gt; at 11.04.10&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-detail&quot;&gt;Paolo Perrotta &lt;br /&gt;アスキー・メディアワークス &lt;br /&gt;売り上げランキング: 29046&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-sub-info&quot; style=&quot;float: left;&quot;&gt;&lt;div class=&quot;amazlet-link&quot; style=&quot;margin-top: 5px&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4048687158/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;Amazon.co.jp で詳細を見る&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-footer&quot; style=&quot;clear: left&quot;&gt;&lt;/div&gt;&lt;/div&gt;

</content>
    </entry>
    
    <entry>
        <title>Google 翻訳する Ruby スクリプト</title>
        <link href="http://log.tomohiro.me/entries/google-translation-ruby-script"/>
        <updated>2011-04-09T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/google-translation-ruby-script</id>
        <content type="html">&lt;p&gt;英和と和英限定です．&lt;/p&gt;

&lt;p&gt;英和なのか，和英なのかは自動的に判別するようになっています．&lt;/p&gt;

&lt;p&gt;Ruby 1.9 で動きます．&lt;/p&gt;

&lt;h3&gt;使い方&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl -LO https://gist.github.com/raw/551073/gt 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mv gt ~/bin/
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;chmod +x ~/bin/gt
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gt 長文の翻訳にも対応しています。
Also supports a lengthy translation.
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gt Also supports a lengthy translation.
また、長い翻訳をサポートしています。
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;ソース&lt;/h3&gt;

&lt;script src=&quot;https://gist.github.com/551073.js?file=gt&quot;&gt;&lt;/script&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;div class=&quot;amazlet-box&quot; style=&quot;margin-bottom:0px;&quot;&gt;&lt;div class=&quot;amazlet-image&quot; style=&quot;float:left;margin:0px 12px 1px 0px;&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873113679/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ecx.images-amazon.com/images/I/41gCZhFayuL._SL160_.jpg&quot; alt=&quot;初めてのRuby&quot; style=&quot;border: none;&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-info&quot; style=&quot;line-height:120%; margin-bottom: 10px&quot;&gt;&lt;div class=&quot;amazlet-name&quot; style=&quot;margin-bottom:10px;line-height:120%&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873113679/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;初めてのRuby&lt;/a&gt;&lt;div class=&quot;amazlet-powered-date&quot; style=&quot;font-size:80%;margin-top:5px;line-height:120%&quot;&gt;posted with &lt;a href=&quot;http://www.amazlet.com/browse/ASIN/4873113679/tomohiro-t-22/ref=nosim/&quot; title=&quot;初めてのRuby&quot; target=&quot;_blank&quot;&gt;amazlet&lt;/a&gt; at 11.04.09&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-detail&quot;&gt;Yugui &lt;br /&gt;オライリージャパン &lt;br /&gt;売り上げランキング: 20994&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-sub-info&quot; style=&quot;float: left;&quot;&gt;&lt;div class=&quot;amazlet-link&quot; style=&quot;margin-top: 5px&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873113679/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;Amazon.co.jp で詳細を見る&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-footer&quot; style=&quot;clear: left&quot;&gt;&lt;/div&gt;&lt;/div&gt;

</content>
    </entry>
    
    <entry>
        <title>Bash の if で AND 条件や OR 条件を使用する</title>
        <link href="http://log.tomohiro.me/entries/bash-if-condition"/>
        <updated>2011-04-08T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/bash-if-condition</id>
        <content type="html">&lt;h3&gt;複数コマンドの組み合わせ&lt;/h3&gt;

&lt;p&gt;例. Zsh がインストールされていて，環境変数 $ZSH_SPECIAL_VAR が存在する場合&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;which zsh &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; -z &lt;span class=&quot;nv&quot;&gt;$ZSH_SPECIAL_VAR&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# do something&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;test コマンドを使う場合&lt;/h3&gt;

&lt;p&gt;例. AND 条件: FILE が存在し，かつ実行できる場合&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -f FILE -a -x FILE &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# do something&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;例. OR 条件: FILE1 か FILE2 のどちらかが存在する場合&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -f FILE1 -o -x FILE1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# do something&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;その他の例は &lt;code&gt;man test&lt;/code&gt; するとだいたいわかる．&lt;a href=&quot;http://ya.maya.st/web/RTFM.html&quot;&gt;RTFM&lt;/a&gt;.&lt;/p&gt;

&lt;h3&gt;References&lt;/h3&gt;

&lt;div class=&quot;amazlet-box&quot; style=&quot;margin-bottom:0px;&quot;&gt;&lt;div class=&quot;amazlet-image&quot; style=&quot;float:left;margin:0px 12px 1px 0px;&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873112540/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ecx.images-amazon.com/images/I/519CHDKSHWL._SL160_.jpg&quot; alt=&quot;入門bash 第3版&quot; style=&quot;border: none;&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-info&quot; style=&quot;line-height:120%; margin-bottom: 10px&quot;&gt;&lt;div class=&quot;amazlet-name&quot; style=&quot;margin-bottom:10px;line-height:120%&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873112540/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;入門bash 第3版&lt;/a&gt;&lt;div class=&quot;amazlet-powered-date&quot; style=&quot;font-size:80%;margin-top:5px;line-height:120%&quot;&gt;posted with &lt;a href=&quot;http://www.amazlet.com/browse/ASIN/4873112540/tomohiro-t-22/ref=nosim/&quot; title=&quot;入門bash 第3版&quot; target=&quot;_blank&quot;&gt;amazlet&lt;/a&gt; at 11.04.08&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-detail&quot;&gt;Cameron Newham Bill Rosenblatt &lt;br /&gt;オライリージャパン &lt;br /&gt;売り上げランキング: 43317&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-sub-info&quot; style=&quot;float: left;&quot;&gt;&lt;div class=&quot;amazlet-link&quot; style=&quot;margin-top: 5px&quot;&gt;&lt;a href=&quot;http://www.amazon.co.jp/exec/obidos/ASIN/4873112540/tomohiro-t-22/ref=nosim/&quot; name=&quot;amazletlink&quot; target=&quot;_blank&quot;&gt;Amazon.co.jp で詳細を見る&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;amazlet-footer&quot; style=&quot;clear: left&quot;&gt;&lt;/div&gt;&lt;/div&gt;

</content>
    </entry>
    
    <entry>
        <title>LL でリスト/配列をループ処理する時のイディオム</title>
        <link href="http://log.tomohiro.me/entries/ll-list-loop-idiom"/>
        <updated>2011-04-07T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/ll-list-loop-idiom</id>
        <content type="html">&lt;h3&gt;リスト/配列の値を順番に評価する&lt;/h3&gt;

&lt;p&gt;PHP (Array)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$l&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;cm&quot;&gt;/* do something */&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Perl (Array)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;perl&quot;&gt;&lt;span class=&quot;k&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;qw/foo bar baz/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# do something&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Ruby (Array)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%w[foo bar baz]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# do something&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Python (list)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# do something&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;JavaScript (Array)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;cm&quot;&gt;/* do something */&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;リスト/配列のインデックスと値を順番に評価する&lt;/h3&gt;

&lt;p&gt;PHP (Array)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$l&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;cm&quot;&gt;/* do something */&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Perl (Array)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;perl&quot;&gt;&lt;span class=&quot;k&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;qw/foo bar baz/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$#l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# do something&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Ruby (Array)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%w[foo bar baz]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each_with_index&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# do something&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;Python (list)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# do something&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;JavaScript (Array)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;cm&quot;&gt;/* do something l[i] */&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://php.net/manual/ja/control-structures.foreach.php&quot; title=&quot;PHP: foreach - Manual&quot;&gt;PHP: foreach - Manual&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ruby-lang.org/ja/man/html/Enumerable.html&quot;&gt;Enumerable - Rubyリファレンスマニュアル&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.python.jp/doc/release/reference/compound_stmts.html#for&quot;&gt;複合文 (compound statement) — Python v2.6.2 documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/ja/JavaScript/Reference/Statements/for&quot;&gt;for - MDC Doc Center&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>perlbrew 環境に cpanminus をインストールする</title>
        <link href="http://log.tomohiro.me/entries/installing-cpanminus"/>
        <updated>2011-04-06T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/installing-cpanminus</id>
        <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/miyagawa/cpanminus/&quot;&gt;cpanminus&lt;/a&gt; は Perl の CPAN を簡単に使えるようにするツール．&lt;/p&gt;

&lt;p&gt;perlbrew と組み合わせるとローカルユーザ領域に CPAN モジュールをインストールすることも簡単にできる．&lt;/p&gt;

&lt;p&gt;perlbrew のインストールは前回の&lt;a href=&quot;http://log.tomohiro.me/entries/installing-perlbrew-on-ubuntu10.10&quot;&gt;エントリ&lt;/a&gt;の通りである．&lt;/p&gt;

&lt;h3&gt;インストール&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl -LO http://xrl.us/cpanm
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;chmod +x cpanm
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PERL_CPANM_OPT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;--local-lib=$PERLBREW_ROOT&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;perl ./cpanm App::cpanminus
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;cpanm -V
cpanm -Vcpanm &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;App::cpanminus&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; version 1.4004
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;cpanminus のデフォルトオプション環境変数をシェルに設定&lt;/h3&gt;

&lt;p&gt;perlbrew を &lt;code&gt;$HOME/.perlbrew/perl5&lt;/code&gt; 以下にインストールしているため，そこに cpanminus のモジュールをインストールするような設定を加える．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vi ~/.zshrc
&lt;span class=&quot;c&quot;&gt;##### for cpanminus #####&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;which cpanm &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;nv&quot;&gt;$PERLBREW_ROOT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PERL_CPANM_OPT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;--local-lib&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PERLBREW_ROOT&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PERL5LIB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PERLBREW_ROOT&lt;/span&gt;/lib/perl5:&lt;span class=&quot;nv&quot;&gt;$PERL5LIB&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.zshrc
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;cpanminus をアップグレードする&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;cpanm --self-upgrade
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://log.tomohiro.me/entries/installing-perlbrew-on-ubuntu10.10&quot;&gt;Ubuntu 10.10 に perlbrew をインストールする&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/miyagawa/cpanminus/&quot;&gt;miyagawa/cpanminus - GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://d.hatena.ne.jp/tokuhirom/20100716/perlenv&quot;&gt;モダンな Perl の開発環境の構築方法 - TokuLog 改メ tokuhirom’s blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>Ubuntu 10.10 に perlbrew をインストールする</title>
        <link href="http://log.tomohiro.me/entries/installing-perlbrew-on-ubuntu10.10"/>
        <updated>2011-04-05T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/installing-perlbrew-on-ubuntu10.10</id>
        <content type="html">&lt;h3&gt;perlbrew のインストール&lt;/h3&gt;

&lt;p&gt;公式の手順通りに進めても良いが，その手順ではデフォルトで &lt;code&gt;$HOME/perl5&lt;/code&gt; に perlbrew がインストールされてしまう．&lt;/p&gt;

&lt;p&gt;個人的には &lt;code&gt;$HOME&lt;/code&gt; 直下に見えるディレクトリが増えるのは嬉しくない．&lt;/p&gt;

&lt;p&gt;そこで，他の LL の仮想環境と同じように &lt;code&gt;$HOME/.perlbrew/perl5&lt;/code&gt; をインストール先にするため環境変数 &lt;code&gt;PERLBREW_ROOT&lt;/code&gt; を設定することにしている．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /tmp
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl -LO http://xrl.us/perlbrew
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 26914  100 26914    0     0   9671      0  0:00:02  0:00:02 --:--:-- 53084
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;chmod +x perlbrew

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PERLBREW_ROOT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.perlbrew/perl5

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./perlbrew install
The perlbrew is installed as:

    ~/.perlbrew/perl5/bin/perlbrew

You may trash the downloaded /tmp/perlbrew from now on.

Next, &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;this is the first &lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;you install perlbrew, run:

    ~/.perlbrew/perl5/bin/perlbrew init

And follow the instruction on screen.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;初期化&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rm -f perlbrew
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/.perlbrew/perl5/bin/
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;./perlbrew init
perlbrew environment initiated, required directories are created under

    ~/.perlbrew/perl5

Well-done! Congratulations! Please add the following line to the end
of your ~/.bashrc

    &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.perlbrew/perl5/etc/bashrc

After that, &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;this shell, start a new one, and install some fresh
perls:

    perlbrew install perl-5.12.1
    perlbrew install perl-5.10.1

For further instructions, simply run:

    perlbrew

The default &lt;span class=&quot;nb&quot;&gt;help &lt;/span&gt;messages will popup and tell you what to &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;!

Enjoy perlbrew at &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;!!
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;シェルの側で perlbrew を有効にする&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vi ~/.zshrc

&lt;span class=&quot;c&quot;&gt;##### for Perl `perlbrew` #####&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; -s &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.perlbrew/perl5/etc/bashrc &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.perlbrew/perl5/etc/bashrc
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; ~/.zshrc
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;which perlbrew
/home/tomohiro/.perlbrew/perl5/bin/perlbrew
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h5&gt;Perl を設定する&lt;/h5&gt;

&lt;p&gt;perlbrew でインストール済みの Perl を設定する．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;perlbrew switch /usr/bin/perl
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;別のバージョンをインストールする場合は下記のようにする．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;perlbrew install perl-5.12.2
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;perlbrew switch perl-5.12.2
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://search.cpan.org/dist/App-perlbrew/lib/App/perlbrew.pm&quot;&gt;App::perlbrew - search.cpan.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://d.hatena.ne.jp/tokuhirom/20100716/perlenv&quot;&gt;モダンな Perl の開発環境の構築方法 - TokuLog 改メ tokuhirom’s blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>美女 Linux コマンド</title>
        <link href="http://log.tomohiro.me/entries/girl-linux-command"/>
        <updated>2011-04-01T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/girl-linux-command</id>
        <content type="html">&lt;p&gt;Ruby で&lt;a href=&quot;http://bijo-linux.com/&quot;&gt;美女 Linux&lt;/a&gt; の検索結果を見るコマンドを作ってみた．&lt;/p&gt;

&lt;p&gt;かといって美女が CLI で見れるわけではないので，man で OK って話なんだが...&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;c1&quot;&gt;#!/usr/bin/env ruby&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;open-uri&amp;#39;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;rubygems&amp;#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;nokogiri&amp;#39;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GirlLinux&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;http://bijo-linux.com/girls/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Nokogiri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;HTML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;p/span&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;URL: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uri&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;No girl entry for &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;GirlLinux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ARGV&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;__FILE__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;vg&quot;&gt;$0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;上記のコードを &lt;code&gt;girl&lt;/code&gt; として &lt;code&gt;$HOME/bin&lt;/code&gt; などに置くとシェルから呼び出せる．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;girl &lt;span class=&quot;nb&quot;&gt;kill&lt;/span&gt;
【説明】
指定したプロセスを終了する
【書式】
&lt;span class=&quot;nb&quot;&gt;kill&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;オプション&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;  プロセスID
【オプション】
-s           プロセスに送るシグナルを指定
-l            シグナル名の一覧を表示する

URL: http://bijo-linux.com/girls/kill
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;



</content>
    </entry>
    
    <entry>
        <title>PHP で Y コンビネータ</title>
        <link href="http://log.tomohiro.me/entries/y-combinator-in-php"/>
        <updated>2011-03-31T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/y-combinator-in-php</id>
        <content type="html">&lt;h3&gt;Y コンビネータ関数を作る&lt;/h3&gt;

&lt;p&gt;PHP で Y コンビネータ [&lt;code&gt;Y(F) = F(Y(F))&lt;/code&gt;] を行う関数 Y を定義してみる．&lt;/p&gt;

&lt;p&gt;以下のコードは PHP 5.3+ な環境で動作する．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;call_user_func_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;func_get_args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Y コンビネータを使用して無名な再帰関数を作る&lt;/h3&gt;

&lt;h4&gt;階乗&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$fact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;__invoke&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 3628800&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;フィボナッチ数&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fib&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fib&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$fib&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$fib&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;__invoke&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 55&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h4&gt;ハノイの塔&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$hanoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$hanoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;$hanoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;No. &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; disk is moved from &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$a&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; to &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$b&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PHP_EOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;$hanoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;__invoke&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;B&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;References&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://ja.wikipedia.org/wiki/%E4%B8%8D%E5%8B%95%E7%82%B9%E3%82%B3%E3%83%B3%E3%83%93%E3%83%8D%E3%83%BC%E3%82%BF&quot;&gt;不動点コンビネータ - Wikipedia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://d.hatena.ne.jp/amachang/20080124/1201199469&quot;&gt;Y コンビネータって何？ - IT戦記&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>PostgreSQL から CSV ファイルをエクスポートする</title>
        <link href="http://log.tomohiro.me/entries/csv-export-from-postgresql"/>
        <updated>2011-03-30T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/csv-export-from-postgresql</id>
        <content type="html">&lt;p&gt;カンマ区切りの一般的な CSV を吐き出す場合はこのようなコマンドを実行すれば良い．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;psql -U &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;user&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;dbname&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; -c &lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT * FROM example&amp;#39;&lt;/span&gt; -A -F, &amp;gt; example.csv
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;p&gt;カラムのデータに改行コードが含まれる場合，出力する CSV を Excel などで開くと
途中で改行されてしまい，大変残念な感じになる．
その場合は，改行が含まれるカラムのデータを下記のように変更する必要がある．&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;CRLF を LF に変更&lt;/li&gt;
&lt;li&gt;ダブルクォーテーションでくくる&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
   &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;REPLACE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;description&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;\r\n&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;&amp;#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;example&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;




&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;psql -U &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;user&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;dbname&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; -f export_example_to_csv.sql -A -F, &amp;gt; example.csv
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;



</content>
    </entry>
    
    <entry>
        <title>Jekyll にコードハイライティングを追加</title>
        <link href="http://log.tomohiro.me/entries/add-to-jekyll-code-highlighting"/>
        <updated>2011-03-28T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/add-to-jekyll-code-highlighting</id>
        <content type="html">&lt;h3&gt;設定を変更する&lt;/h3&gt;

&lt;p&gt;_config.yml に pygments オプションを追加する．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;yaml&quot;&gt;&lt;span class=&quot;l-Scalar-Plain&quot;&gt;pygments&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;CSS を読み込む&lt;/h3&gt;

&lt;p&gt;pygments が生成する HTML に適用できる CSS を用意する必要がある．
例えば &lt;a href=&quot;http://github.com/mojombo/tpw/tree/master/css/syntax.css&quot;&gt;syntax.css&lt;/a&gt; を使う．&lt;/p&gt;

&lt;p&gt;後は HTML 側で読み込む．&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;stylesheet&amp;quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;/css/syntax.css&amp;quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;media&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;screen&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;記事の中にコードハイライティングの指定をする&lt;/h3&gt;

&lt;p&gt;記法:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{&amp;#037; highlight ruby &amp;#037;}
def foo
  puts 'foo'
end
{&amp;#037; endhighlight &amp;#037;}
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;結果:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;h3&gt;Reference&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/Liquid-Extensions&quot; title=&quot;Liquid Extensions - GitHub&quot;&gt;Liquid Extensions - GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
    </entry>
    
    <entry>
        <title>Gist に CSS を適用する方法</title>
        <link href="http://log.tomohiro.me/entries/how-to-apply-css-to-gist"/>
        <updated>2011-03-27T00:00:00+09:00</updated>
        <id>http://log.tomohiro.me/entries/how-to-apply-css-to-gist</id>
    